<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>CDS MOC Service (astroquery.mocserver) &#8212; astroquery v0.4.7.dev9024</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-astropy.css?v=9d21690f" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    
    <script src="../_static/jquery.js?v=5d32c60e"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../_static/documentation_options.js?v=4195d067"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="icon" href="../_static/astropy_logo.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Conf" href="../api/astroquery.mocserver.Conf.html" />
    <link rel="prev" title="Conf" href="../api/astroquery.mast.Conf.html" />
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>

  </head><body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">astro</span><span id="logotext2">query</span><span id="logotext3">:docs</span></a>
  <ul>
    
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="../api/astroquery.mocserver.Conf.html" title="Conf">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="../api/astroquery.mast.Conf.html" title="Conf">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">astroquery v0.4.7.dev9024</a>
	 &#187;
      </li>
      
      <li>CDS MOC Service (<code class="xref py py-obj docutils literal notranslate"><span class="pre">astroquery.mocserver</span></code>)</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="cds-moc-service-astroquery-mocserver">
<span id="astroquery-mocserver"></span><h1>CDS MOC Service (<a class="reference internal" href="#module-astroquery.mocserver" title="astroquery.mocserver"><code class="xref py py-obj docutils literal notranslate"><span class="pre">astroquery.mocserver</span></code></a>)<a class="headerlink" href="#cds-moc-service-astroquery-mocserver" title="Link to this heading">¶</a></h1>
<section id="getting-started">
<h2>Getting started<a class="headerlink" href="#getting-started" title="Link to this heading">¶</a></h2>
<p>This module provides a python interface for querying the <a class="reference external" href="http://alasky.unistra.fr/MocServer/query">CDS MOCServer</a>.</p>
<p>MOC is an <a class="reference external" href="http://ivoa.net/documents/MOC/20140602/REC-MOC-1.0-20140602.pdf">IVOA standard</a> enabling description of arbitrary sky regions. Based on the HEALPix sky tessellation, it maps
regions on the sky into hierarchically grouped predefined cells. It corresponds to a set of HEALPix cells at different
orders.</p>
<p>For those wanting to know more about MOCs, please refer to this <a class="reference external" href="http://ivoa.net/documents/MOC/20140602/REC-MOC-1.0-20140602.pdf">IVOA paper</a> and the <a class="reference external" href="https://github.com/cds-astro/mocpy">MOCPy’s documentation</a> developed by the CDS.</p>
<p>CDS has set up a server known as the <a class="reference external" href="http://alasky.unistra.fr/MocServer/query?">MOCServer</a> storing data-set names
each associated with a MOC spatial coverage and some meta-datas giving a more detailed explanation of the data-set.</p>
<p>The MOCServer aims at returning the data-sets having at least one source lying in a specific sky region defined by the
user. Internally the MOCServer performs the intersection between the given sky region and the MOCs associated with each
data-sets. Because the MOC associated to a data-set describes its sky coverage, if the above intersection is not null
then the MOCServer knows that some sources of this data-set are in the user defined sky region.</p>
<p>To be aware of what the MOCServer returns, please refers to this <a class="reference external" href="http://alasky.unistra.fr/MocServer/query?RA=10.8&amp;DEC=32.2&amp;SR=1.5&amp;intersect=overlaps&amp;get=record&amp;fmt=html">link</a>.
We have queried the MOCServer with a cone region of center ra, dec = (10.8, 32.2) deg and radius = 1.5 deg. In return,
the MOCServer gives a list of data-sets each tagged with an unique ID along with some other meta-datas too e.g.
<code class="docutils literal notranslate"><span class="pre">obs_title</span></code>, <code class="docutils literal notranslate"><span class="pre">obs_description</span></code>, <code class="docutils literal notranslate"><span class="pre">moc_access_url</span></code> (url for accessing the MOC associated with the data-set. Usually
a FITS file storing a list of HEALPix cells).</p>
<p>It is also possible to ask the MOCServer for retrieving data-sets based on their meta-data values. <a class="reference external" href="http://alasky.unistra.fr/MocServer/query?RA=10.8&amp;DEC=32.2&amp;SR=1.5&amp;intersect=overlaps&amp;get=record&amp;fmt=html&amp;expr=(dataproduct_type=image)">Here</a>
we have queried the MOCServer for only the image data-sets being in the cone defined above (<code class="docutils literal notranslate"><span class="pre">dataproduct_type</span></code>
meta-data equals to <code class="docutils literal notranslate"><span class="pre">&quot;image&quot;</span></code>).</p>
<p>This package implements two methods:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../api/astroquery.mocserver.MOCServerClass.html#astroquery.mocserver.MOCServerClass.query_region" title="astroquery.mocserver.MOCServerClass.query_region"><code class="xref py py-meth docutils literal notranslate"><span class="pre">query_region()</span></code></a> retrieving data-sets (their associated MOCs and meta-datas) having sources in a given region.</p></li>
<li><p><a class="reference internal" href="../api/astroquery.mocserver.MOCServerClass.html#astroquery.mocserver.MOCServerClass.find_datasets" title="astroquery.mocserver.MOCServerClass.find_datasets"><code class="xref py py-meth docutils literal notranslate"><span class="pre">find_datasets()</span></code></a> retrieving data-sets (their associated MOCs and meta-datas) based on the
values of their meta-datas.</p></li>
</ul>
<section id="requirements">
<h3>Requirements<a class="headerlink" href="#requirements" title="Link to this heading">¶</a></h3>
<p>The following packages are required for the use of this module:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://astropy-healpix.readthedocs.io/en/latest/">astropy-healpix</a></p></li>
<li><p><a class="reference external" href="https://github.com/cds-astro/mocpy">mocpy</a></p></li>
<li><p><a class="reference external" href="https://github.com/astropy/regions">regions</a></p></li>
</ul>
</section>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Link to this heading">¶</a></h2>
<section id="performing-a-cds-moc-query-on-a-cone-region">
<h3>Performing a CDS MOC query on a cone region<a class="headerlink" href="#performing-a-cds-moc-query-on-a-cone-region" title="Link to this heading">¶</a></h3>
<p>The first thing to do is to import the <a class="reference external" href="https://github.com/astropy/regions">regions</a> package and the <code class="docutils literal notranslate"><span class="pre">mocserver</span></code> module.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy</span> <span class="kn">import</span> <span class="n">coordinates</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">regions</span> <span class="kn">import</span> <span class="n">CircleSkyRegion</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astroquery.mocserver</span> <span class="kn">import</span> <span class="n">MOCServer</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">mocserver</span></code> implements the method <a class="reference internal" href="../api/astroquery.mocserver.MOCServerClass.html#astroquery.mocserver.MOCServerClass.query_region" title="astroquery.mocserver.MOCServerClass.query_region"><code class="xref py py-meth docutils literal notranslate"><span class="pre">query_region()</span></code></a> and this is what we will use.
First, we need to define a cone region. For that purpose we will instantiate a <a class="reference external" href="https://astropy-regions.readthedocs.io/en/stable/api/regions.CircleSkyRegion.html#regions.CircleSkyRegion" title="(in regions v0.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">regions.CircleSkyRegion</span></code></a> object:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">center</span> <span class="o">=</span> <span class="n">coordinates</span><span class="o">.</span><span class="n">SkyCoord</span><span class="p">(</span><span class="mf">10.8</span><span class="p">,</span> <span class="mf">32.2</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;deg&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">radius</span> <span class="o">=</span> <span class="n">coordinates</span><span class="o">.</span><span class="n">Angle</span><span class="p">(</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;deg&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">cone</span> <span class="o">=</span> <span class="n">CircleSkyRegion</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">radius</span><span class="p">)</span>
</pre></div>
</div>
<p>And basically call the <a class="reference internal" href="../api/astroquery.mocserver.MOCServerClass.html#astroquery.mocserver.MOCServerClass.query_region" title="astroquery.mocserver.MOCServerClass.query_region"><code class="xref py py-meth docutils literal notranslate"><span class="pre">query_region()</span></code></a> method with the cone and that’s all.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">MOCServer</span><span class="o">.</span><span class="n">query_region</span><span class="p">(</span><span class="n">region</span><span class="o">=</span><span class="n">cone</span><span class="p">)</span>
<span class="go">&lt;Table masked=True length=1317&gt;</span>
<span class="go">hips_service_url_8        hips_status         hips_status_7 ...   hipsgen_date_5                                  hips_master_url                                  moc_sky_fraction</span>
<span class="go">      object                 object               object    ...       object                                           object                                          float64</span>
<span class="go">------------------ -------------------------- ------------- ... ----------------- -------------------------------------------------------------------------------- ----------------</span>
<span class="go">                --                         --            -- ...                --                                                                               --           0.0588</span>
<span class="go">                --                         --            -- ...                --                                                                               --        2.066e-06</span>
<span class="go">                --                         --            -- ...                --                                                                               --         0.002134</span>
<span class="go">                --                         --            -- ...                --                                                                               --         0.003107</span>
<span class="go">                --                         --            -- ...                --                                                                               --        0.0001764</span>
<span class="go">                --                         --            -- ...                --                                                                               --         0.008365</span>
<span class="go">                --                         --            -- ...                --                                                                               --        0.0009891</span>
<span class="go">                --                         --            -- ...                --                                                                               --        0.0004252</span>
<span class="go">                --                         --            -- ...                --                                                                               --        0.0006163</span>
<span class="go">                --                         --            -- ...                --                                                                               --        0.0008544</span>
<span class="go">                --                         --            -- ...                --                                                                               --        0.0009243</span>
<span class="go">                --                         --            -- ...                --                                                                               --          0.00016</span>
<span class="go">                --                         --            -- ...                --                                                                               --         0.000729</span>
<span class="go">                --                         --            -- ...                --                                                                               --        2.998e-05</span>
<span class="go">                --                         --            -- ...                --                                                                               --          0.01136</span>
<span class="go">                --                         --            -- ...                --                                                                               --        0.0006112</span>
<span class="go">                --                         --            -- ...                --                                                                               --        6.632e-05</span>
<span class="go">                --                         --            -- ...                --                                                                               --        0.0001141</span>
<span class="go">                --                         --            -- ...                --                                                                               --        0.0008666</span>
<span class="go">                --                         --            -- ...                --                                                                               --         0.001025</span>
<span class="go">                --                         --            -- ...                --                                                                               --         0.008088</span>
<span class="go">                --                         --            -- ...                --                                                                               --         0.000282</span>
<span class="go">                --                         --            -- ...                --                                                                               --         0.002413</span>
<span class="go">                --                         --            -- ...                --                                                                               --        0.0001468</span>
<span class="go">                -- public master clonableOnce            -- ...                --                                                                               --           0.3164</span>
<span class="go">                -- public master clonableOnce            -- ...                --                                                                               --              1.0</span>
<span class="go">                --                         --            -- ...                --                                                                               --        4.444e-05</span>
<span class="go">                --                         --            -- ...                --                                                                               --        4.641e-05</span>
<span class="go">                --                         --            -- ...                --                                                                               --          0.00044</span>
<span class="go">               ...                        ...           ... ...               ...                                                                              ...              ...</span>
<span class="go">                --   public master unclonable            -- ...                --                                                                               --              1.0</span>
<span class="go">                --   public master unclonable            -- ...                --    http://cade.irap.omp.eu/documents/Ancillary/4Aladin/DRAO-VillaElisa_21cm_POLQ              1.0</span>
<span class="go">                --   public master unclonable            -- ...                --    http://cade.irap.omp.eu/documents/Ancillary/4Aladin/DRAO-VillaElisa_21cm_POLU              1.0</span>
<span class="go">                --   public master unclonable            -- ...                --                   http://cade.irap.omp.eu/documents/Ancillary/4Aladin/DRAO_22MHz           0.7283</span>
<span class="go">                --   public master unclonable            -- ... 2017-02-09T13:48Z                                                                               --           0.5723</span>
<span class="go">                --   public master unclonable            -- ...                --                                                                               --           0.5468</span>
<span class="go">                --   public master unclonable            -- ...                --                                                                               --              1.0</span>
<span class="go">                --   public master unclonable            -- ...                --                http://cade.irap.omp.eu/documents/Ancillary/4Aladin/GAURIBIDANUR/           0.8623</span>
<span class="go">                --   public master unclonable            -- ...                --                                                                               --              1.0</span>
<span class="go">                --   public master unclonable            -- ...                --                                                                               --              1.0</span>
<span class="go">                --   public master unclonable            -- ...                --                                                                               --              1.0</span>
<span class="go">                --   public master unclonable            -- ...                --                                                                               --              1.0</span>
<span class="go">                --   public master unclonable            -- ...                --                                                                               --              1.0</span>
<span class="go">                --   public master unclonable            -- ...                --                                                                               --           0.9635</span>
<span class="go">                --   public master unclonable            -- ...                --                                                                               --           0.4284</span>
<span class="go">                --   public master unclonable            -- ...                --                                                                               --              1.0</span>
<span class="go">                --   public master unclonable            -- ...                --                                                                               --              1.0</span>
<span class="go">                --   public master unclonable            -- ...                --                                                                               --              1.0</span>
<span class="go">                --   public master unclonable            -- ...                --                                                                               --              1.0</span>
<span class="go">                --   public master unclonable            -- ...                -- http://cade.irap.omp.eu/documents/Ancillary/4Aladin/STOCKERT+VILLAELISA_1420MHz/              1.0</span>
<span class="go">                --   public master unclonable            -- ...                --                                                                               --            0.181</span>
<span class="go">                --   public master unclonable            -- ...                --                                                                               --           0.1918</span>
<span class="go">                --   public master unclonable            -- ... 2017-05-15T12:44Z                                                                               --              1.0</span>
<span class="go">                --                         --            -- ...                --                                                                               --           0.1553</span>
<span class="go">                --                         --            -- ...                --                                                                               --           0.2373</span>
<span class="go">                -- public master clonableOnce            -- ...                --                                                                               --          0.08287</span>
<span class="go">                -- public master clonableOnce            -- ...                --                                                                               --          0.02227</span>
<span class="go">                -- public master clonableOnce            -- ...                --                                                                               --          0.02227</span>
<span class="go">                -- public master clonableOnce            -- ...                --                                                                               --          0.02227</span>
</pre></div>
</div>
<p>You can also query the MOCServer on a <a class="reference external" href="https://astropy-regions.readthedocs.io/en/stable/api/regions.PolygonSkyRegion.html#regions.PolygonSkyRegion" title="(in regions v0.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">regions.PolygonSkyRegion</span></code></a> or even an <a class="reference external" href="https://cds-astro.github.io/mocpy/stubs/mocpy.MOC.html#mocpy.MOC" title="(in MOCPy v0.13.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mocpy.MOC</span></code></a> following the same pattern i.e. just
by replacing <code class="docutils literal notranslate"><span class="pre">cone</span></code> with a polygon or a MOC object.</p>
<p>By default, <a class="reference internal" href="../api/astroquery.mocserver.MOCServerClass.html#astroquery.mocserver.MOCServerClass.query_region" title="astroquery.mocserver.MOCServerClass.query_region"><code class="xref py py-meth docutils literal notranslate"><span class="pre">query_region()</span></code></a> returns an <a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.table.Table.html#astropy.table.Table" title="(in Astropy v6.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.table.Table</span></code></a> object storing the data-sets
as rows and their meta-datas as columns. Data-sets might have no information for a specific meta-data. If so, the value
associated with this meta-data for this data-set is set to “-”. The above astropy table looks like :</p>
</section>
<section id="retrieve-only-a-subset-of-meta-datas">
<h3>Retrieve only a subset of meta-datas<a class="headerlink" href="#retrieve-only-a-subset-of-meta-datas" title="Link to this heading">¶</a></h3>
<p>This table refers to a lot of meta-datas whereas we could only use a few of them. In fact, it is possible to ask the
MOCServer to give us a reduced set of meta-datas for the resulting data-sets. The table returned by the MOCServer
will be lighter and thus faster to retrieve.</p>
<p>The parameter <code class="docutils literal notranslate"><span class="pre">fields</span></code> of <a class="reference internal" href="../api/astroquery.mocserver.MOCServerClass.html#astroquery.mocserver.MOCServerClass.query_region" title="astroquery.mocserver.MOCServerClass.query_region"><code class="xref py py-meth docutils literal notranslate"><span class="pre">query_region()</span></code></a> allows us to provide the list of meta-datas we
want to get. Let’s say we would like only the <code class="docutils literal notranslate"><span class="pre">ID</span></code>, the <code class="docutils literal notranslate"><span class="pre">moc_sky_fraction</span></code> and the <code class="docutils literal notranslate"><span class="pre">moc_access_url</span></code> of the
resulting data-sets:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">MOCServer</span><span class="o">.</span><span class="n">query_region</span><span class="p">(</span><span class="n">region</span><span class="o">=</span><span class="n">cone</span><span class="p">,</span> <span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ID&#39;</span><span class="p">,</span> <span class="s1">&#39;moc_sky_fraction&#39;</span><span class="p">,</span> <span class="s1">&#39;moc_access_url&#39;</span><span class="p">])</span>
<span class="go">&lt;Table masked=True length=1317&gt;</span>
<span class="go">                                   moc_access_url                                                     ID                  moc_sky_fraction</span>
<span class="go">                                       object                                                       str48                     float64</span>
<span class="go">------------------------------------------------------------------------------------ ------------------------------------ ----------------</span>
<span class="go">http://alasky.unistra.fr/footprints/tables/vizier/B_assocdata_obscore/MOC?nside=2048              CDS/B/assocdata/obscore           0.0588</span>
<span class="go">      http://alasky.unistra.fr/footprints/tables/vizier/B_cb_lmxbdata/MOC?nside=2048                    CDS/B/cb/lmxbdata        2.066e-06</span>
<span class="go">        http://alasky.unistra.fr/footprints/tables/vizier/B_cfht_cfht/MOC?nside=2048                      CDS/B/cfht/cfht         0.002134</span>
<span class="go">     http://alasky.unistra.fr/footprints/tables/vizier/B_cfht_obscore/MOC?nside=2048                   CDS/B/cfht/obscore         0.003107</span>
<span class="go">  http://alasky.unistra.fr/footprints/tables/vizier/B_chandra_chandra/MOC?nside=2048                CDS/B/chandra/chandra        0.0001764</span>
<span class="go">      http://alasky.unistra.fr/footprints/tables/vizier/B_eso_eso_arc/MOC?nside=2048                    CDS/B/eso/eso_arc         0.008365</span>
<span class="go">    http://alasky.unistra.fr/footprints/tables/vizier/B_gcvs_gcvs_cat/MOC?nside=2048                  CDS/B/gcvs/gcvs_cat        0.0009891</span>
<span class="go">     http://alasky.unistra.fr/footprints/tables/vizier/B_gcvs_nsv_cat/MOC?nside=2048                   CDS/B/gcvs/nsv_cat        0.0004252</span>
<span class="go">   http://alasky.unistra.fr/footprints/tables/vizier/B_gemini_obscore/MOC?nside=2048                 CDS/B/gemini/obscore        0.0006163</span>
<span class="go">       http://alasky.unistra.fr/footprints/tables/vizier/B_hst_hstlog/MOC?nside=2048                     CDS/B/hst/hstlog        0.0008544</span>
<span class="go">      http://alasky.unistra.fr/footprints/tables/vizier/B_hst_obscore/MOC?nside=2048                    CDS/B/hst/obscore        0.0009243</span>
<span class="go">        http://alasky.unistra.fr/footprints/tables/vizier/B_hst_wfpc2/MOC?nside=2048                      CDS/B/hst/wfpc2          0.00016</span>
<span class="go">     http://alasky.unistra.fr/footprints/tables/vizier/B_jcmt_obscore/MOC?nside=2048                   CDS/B/jcmt/obscore         0.000729</span>
<span class="go">    http://alasky.unistra.fr/footprints/tables/vizier/B_merlin_merlin/MOC?nside=2048                  CDS/B/merlin/merlin        2.998e-05</span>
<span class="go">       http://alasky.unistra.fr/footprints/tables/vizier/B_mk_mktypes/MOC?nside=2048                     CDS/B/mk/mktypes          0.01136</span>
<span class="go">    http://alasky.unistra.fr/footprints/tables/vizier/B_pastel_pastel/MOC?nside=2048                  CDS/B/pastel/pastel        0.0006112</span>
<span class="go">         http://alasky.unistra.fr/footprints/tables/vizier/B_sb9_main/MOC?nside=2048                       CDS/B/sb9/main        6.632e-05</span>
<span class="go">         http://alasky.unistra.fr/footprints/tables/vizier/B_sn_sncat/MOC?nside=2048                       CDS/B/sn/sncat        0.0001141</span>
<span class="go">   http://alasky.unistra.fr/footprints/tables/vizier/B_subaru_suprimc/MOC?nside=2048                 CDS/B/subaru/suprimc        0.0008666</span>
<span class="go">   http://alasky.unistra.fr/footprints/tables/vizier/B_swift_swiftlog/MOC?nside=2048                 CDS/B/swift/swiftlog         0.001025</span>
<span class="go">          http://alasky.unistra.fr/footprints/tables/vizier/B_vsx_vsx/MOC?nside=2048                        CDS/B/vsx/vsx         0.008088</span>
<span class="go">       http://alasky.unistra.fr/footprints/tables/vizier/B_wd_catalog/MOC?nside=2048                     CDS/B/wd/catalog         0.000282</span>
<span class="go">          http://alasky.unistra.fr/footprints/tables/vizier/B_wds_wds/MOC?nside=2048                        CDS/B/wds/wds         0.002413</span>
<span class="go">       http://alasky.unistra.fr/footprints/tables/vizier/B_xmm_xmmlog/MOC?nside=2048                     CDS/B/xmm/xmmlog        0.0001468</span>
<span class="go">                                                                                  --                 CDS/C/GALFAHI/Narrow           0.3164</span>
<span class="go">                                                                                  --                       CDS/C/HI4PI/HI              1.0</span>
<span class="go">         http://alasky.unistra.fr/footprints/tables/vizier/I_100A_w10/MOC?nside=2048                       CDS/I/100A/w10        4.444e-05</span>
<span class="go">         http://alasky.unistra.fr/footprints/tables/vizier/I_100A_w25/MOC?nside=2048                       CDS/I/100A/w25        4.641e-05</span>
<span class="go">         http://alasky.unistra.fr/footprints/tables/vizier/I_100A_w50/MOC?nside=2048                       CDS/I/100A/w50          0.00044</span>
<span class="go">                                                                                 ...                                  ...              ...</span>
<span class="go">                                                                                  --                 ov-gso/P/DIRBE/ZSMA9              1.0</span>
<span class="go">                                                                                  --   ov-gso/P/DRAO-VillaElisa/21cm/POLQ              1.0</span>
<span class="go">                                                                                  --   ov-gso/P/DRAO-VillaElisa/21cm/POLU              1.0</span>
<span class="go">                                                                                  --                  ov-gso/P/DRAO/22MHz           0.7283</span>
<span class="go">                                                                                  --            ov-gso/P/DWINGELOO/820MHz           0.5723</span>
<span class="go">                                                                                  --                       ov-gso/P/EBHIS           0.5468</span>
<span class="go">                                                                                  --                  ov-gso/P/GASS+EBHIS              1.0</span>
<span class="go">                                                                                  --                ov-gso/P/GAURIBIDANUR           0.8623</span>
<span class="go">                                                                                  --                      ov-gso/P/IRIS/1              1.0</span>
<span class="go">                                                                                  --                      ov-gso/P/IRIS/2              1.0</span>
<span class="go">                                                                                  --                      ov-gso/P/IRIS/3              1.0</span>
<span class="go">                                                                                  --                      ov-gso/P/IRIS/4              1.0</span>
<span class="go">                                                                                  --                         ov-gso/P/LAB              1.0</span>
<span class="go">                                                                                  --                    ov-gso/P/MAIPU-MU           0.9635</span>
<span class="go">                                                                                  --                      ov-gso/P/MITEoR           0.4284</span>
<span class="go">                                                                                  --                        ov-gso/P/RASS              1.0</span>
<span class="go">                                                                                  --                    ov-gso/P/RASS/EXP              1.0</span>
<span class="go">                                                                                  --               ov-gso/P/RASS/HardBand              1.0</span>
<span class="go">                                                                                  --               ov-gso/P/RASS/SoftBand              1.0</span>
<span class="go">                                                                                  -- ov-gso/P/STOCKERT+VILLAELISA/1420MHz              1.0</span>
<span class="go">                                                                                  --                   ov-gso/P/VTSS/CONT            0.181</span>
<span class="go">                                                                                  --                     ov-gso/P/VTSS/Ha           0.1918</span>
<span class="go">                                                                                  --                        ov-gso/P/WHAM              1.0</span>
<span class="go">                                                                                  --                   svo.cab/cat/catlib           0.1553</span>
<span class="go">                                                                                  --                    svo.cab/cat/miles           0.2373</span>
<span class="go">                                                                                  --                xcatdb/P/XMM/PN/color          0.08287</span>
<span class="go">                                                                                  --                  xcatdb/P/XMM/PN/eb2          0.02227</span>
<span class="go">                                                                                  --                  xcatdb/P/XMM/PN/eb3          0.02227</span>
<span class="go">                                                                                  --                  xcatdb/P/XMM/PN/eb4          0.02227</span>
</pre></div>
</div>
<p>This astropy table now have only 3 columns and can be manipulated much faster.</p>
</section>
<section id="retrieving-data-sets-based-on-their-meta-data-values">
<h3>Retrieving data-sets based on their meta-data values<a class="headerlink" href="#retrieving-data-sets-based-on-their-meta-data-values" title="Link to this heading">¶</a></h3>
<p>As expressed in the last paragraph of the Getting Started section, we can ask the MOCServer to do some filtering tasks for us
at the server side. The <code class="docutils literal notranslate"><span class="pre">meta_data</span></code> parameter of <a class="reference internal" href="../api/astroquery.mocserver.MOCServerClass.html#astroquery.mocserver.MOCServerClass.query_region" title="astroquery.mocserver.MOCServerClass.query_region"><code class="xref py py-meth docutils literal notranslate"><span class="pre">query_region()</span></code></a> allows the user to
write an algebraic expression on the meta-datas. Let’s query the MOCServer for retrieving what we have done using the
web interface in the Getting Started section i.e. retrieving only the image data-sets that lie in the previously defined cone.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">MOCServer</span><span class="o">.</span><span class="n">query_region</span><span class="p">(</span><span class="n">region</span><span class="o">=</span><span class="n">cone</span><span class="p">,</span>
<span class="gp">... </span>                 <span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ID&#39;</span><span class="p">,</span> <span class="s1">&#39;dataproduct_type&#39;</span><span class="p">,</span> <span class="s1">&#39;moc_sky_fraction&#39;</span><span class="p">,</span> <span class="s1">&#39;moc_access_url&#39;</span><span class="p">],</span>
<span class="gp">... </span>                 <span class="n">meta_data</span><span class="o">=</span><span class="s2">&quot;dataproduct_type=image&quot;</span><span class="p">)</span>
<span class="go">&lt;Table masked=True length=279&gt;</span>
<span class="go">                             moc_access_url                                                 ID                   dataproduct_type moc_sky_fraction</span>
<span class="go">                                 object                                                   str48                        str5           float64</span>
<span class="go">------------------------------------------------------------------------ --------------------------------------- ---------------- ----------------</span>
<span class="go">                             http://alasky.u-strasbg.fr/2MASS/H/Moc.fits                           CDS/P/2MASS/H            image              1.0</span>
<span class="go">                             http://alasky.u-strasbg.fr/2MASS/J/Moc.fits                           CDS/P/2MASS/J            image              1.0</span>
<span class="go">                             http://alasky.u-strasbg.fr/2MASS/K/Moc.fits                           CDS/P/2MASS/K            image              1.0</span>
<span class="go">                         http://alasky.u-strasbg.fr/2MASS/Color/Moc.fits                       CDS/P/2MASS/color            image              1.0</span>
<span class="go">                http://alasky.u-strasbg.fr/AKARI-FIS/ColorLSN60/Moc.fits                   CDS/P/AKARI/FIS/Color            image              1.0</span>
<span class="go">                      http://alasky.u-strasbg.fr/AKARI-FIS/N160/Moc.fits                    CDS/P/AKARI/FIS/N160            image           0.9988</span>
<span class="go">                       http://alasky.u-strasbg.fr/AKARI-FIS/N60/Moc.fits                     CDS/P/AKARI/FIS/N60            image           0.9976</span>
<span class="go">                     http://alasky.u-strasbg.fr/AKARI-FIS/WideL/Moc.fits                   CDS/P/AKARI/FIS/WideL            image           0.9989</span>
<span class="go">                     http://alasky.u-strasbg.fr/AKARI-FIS/WideS/Moc.fits                   CDS/P/AKARI/FIS/WideS            image           0.9976</span>
<span class="go">                                                                      --                     CDS/P/Ariel/Voyager            image              1.0</span>
<span class="go">                                  http://alasky.u-strasbg.fr/CO/Moc.fits                                CDS/P/CO            image              1.0</span>
<span class="go">                                                                      -- CDS/P/Callisto/Voyager-Galileo-simp-1km            image              1.0</span>
<span class="go">                                                                      --        CDS/P/Charon/NewHorizon-PIA19866            image              1.0</span>
<span class="go">                                                                      --            CDS/P/DM/flux-Bp/I/345/gaia2            image              1.0</span>
<span class="go">                                                                      --             CDS/P/DM/flux-G/I/345/gaia2            image              1.0</span>
<span class="go">                                                                      --            CDS/P/DM/flux-Rp/I/345/gaia2            image              1.0</span>
<span class="go">                                                                      -- CDS/P/DM/flux-color-Rp-G-Bp/I/345/gaia2            image              1.0</span>
<span class="go">                                                                      --                          CDS/P/DSS2/NIR            image           0.9943</span>
<span class="go">                  http://alasky.u-strasbg.fr/DSS/DSS2-blue-XJ-S/Moc.fits                         CDS/P/DSS2/blue            image           0.9956</span>
<span class="go">                        http://alasky.u-strasbg.fr/DSS/DSSColor/Moc.fits                        CDS/P/DSS2/color            image              1.0</span>
<span class="go">                      http://alasky.u-strasbg.fr/DSS/DSS2Merged/Moc.fits                          CDS/P/DSS2/red            image              1.0</span>
<span class="go">                                                                      --            CDS/P/Dione/Cassini-PIA12577            image              1.0</span>
<span class="go">   http://alasky.u-strasbg.fr/EGRET/EGRET-dif/EGRET_dif_100-150/Moc.fits                 CDS/P/EGRET/Dif/100-150            image              1.0</span>
<span class="go"> http://alasky.u-strasbg.fr/EGRET/EGRET-dif/EGRET_dif_1000-2000/Moc.fits               CDS/P/EGRET/Dif/1000-2000            image              1.0</span>
<span class="go">   http://alasky.u-strasbg.fr/EGRET/EGRET-dif/EGRET_dif_150-300/Moc.fits                 CDS/P/EGRET/Dif/150-300            image              1.0</span>
<span class="go"> http://alasky.u-strasbg.fr/EGRET/EGRET-dif/EGRET_dif_2000-4000/Moc.fits               CDS/P/EGRET/Dif/2000-4000            image              1.0</span>
<span class="go">     http://alasky.u-strasbg.fr/EGRET/EGRET-dif/EGRET_dif_30-50/Moc.fits                   CDS/P/EGRET/Dif/30-50            image              1.0</span>
<span class="go">   http://alasky.u-strasbg.fr/EGRET/EGRET-dif/EGRET_dif_300-500/Moc.fits                 CDS/P/EGRET/Dif/300-500            image              1.0</span>
<span class="go">http://alasky.u-strasbg.fr/EGRET/EGRET-dif/EGRET_dif_4000-10000/Moc.fits              CDS/P/EGRET/Dif/4000-10000            image              1.0</span>
<span class="go">                                                                     ...                                     ...              ...              ...</span>
<span class="go">                                                                      --                    ov-gso/P/DIRBE/ZSMA7            image              1.0</span>
<span class="go">                                                                      --                    ov-gso/P/DIRBE/ZSMA8            image              1.0</span>
<span class="go">                                                                      --                    ov-gso/P/DIRBE/ZSMA9            image              1.0</span>
<span class="go">                                                                      --      ov-gso/P/DRAO-VillaElisa/21cm/POLQ            image              1.0</span>
<span class="go">                                                                      --      ov-gso/P/DRAO-VillaElisa/21cm/POLU            image              1.0</span>
<span class="go">                                                                      --                     ov-gso/P/DRAO/22MHz            image           0.7283</span>
<span class="go">                                                                      --               ov-gso/P/DWINGELOO/820MHz            image           0.5723</span>
<span class="go">                                                                      --                          ov-gso/P/EBHIS            image           0.5468</span>
<span class="go">                                                                      --                     ov-gso/P/GASS+EBHIS            image              1.0</span>
<span class="go">                                                                      --                   ov-gso/P/GAURIBIDANUR            image           0.8623</span>
<span class="go">                                                                      --                         ov-gso/P/IRIS/1            image              1.0</span>
<span class="go">                                                                      --                         ov-gso/P/IRIS/2            image              1.0</span>
<span class="go">                                                                      --                         ov-gso/P/IRIS/3            image              1.0</span>
<span class="go">                                                                      --                         ov-gso/P/IRIS/4            image              1.0</span>
<span class="go">                                                                      --                            ov-gso/P/LAB            image              1.0</span>
<span class="go">                                                                      --                       ov-gso/P/MAIPU-MU            image           0.9635</span>
<span class="go">                                                                      --                         ov-gso/P/MITEoR            image           0.4284</span>
<span class="go">                                                                      --                           ov-gso/P/RASS            image              1.0</span>
<span class="go">                                                                      --                       ov-gso/P/RASS/EXP            image              1.0</span>
<span class="go">                                                                      --                  ov-gso/P/RASS/HardBand            image              1.0</span>
<span class="go">                                                                      --                  ov-gso/P/RASS/SoftBand            image              1.0</span>
<span class="go">                                                                      --    ov-gso/P/STOCKERT+VILLAELISA/1420MHz            image              1.0</span>
<span class="go">                                                                      --                      ov-gso/P/VTSS/CONT            image            0.181</span>
<span class="go">                                                                      --                        ov-gso/P/VTSS/Ha            image           0.1918</span>
<span class="go">                                                                      --                           ov-gso/P/WHAM            image              1.0</span>
<span class="go">                                                                      --                   xcatdb/P/XMM/PN/color            image          0.08287</span>
<span class="go">                                                                      --                     xcatdb/P/XMM/PN/eb2            image          0.02227</span>
<span class="go">                                                                      --                     xcatdb/P/XMM/PN/eb3            image          0.02227</span>
<span class="go">                                                                      --                     xcatdb/P/XMM/PN/eb4            image          0.02227</span>
</pre></div>
</div>
<p>Looking at the <code class="docutils literal notranslate"><span class="pre">dataproduct_type</span></code> column, all the data-sets seem to be images. We could have been done that using
numpy operations on <a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.table.Table.html#astropy.table.Table" title="(in Astropy v6.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.table.Table</span></code></a> objects but here the MOCServer made it for us.</p>
<p><a class="reference external" href="http://alasky.unistra.fr/MocServer/example">This page</a> on the web interface of the MOCServer gives examples of some filtering expressions.</p>
<p>Alternatively, the method <a class="reference internal" href="../api/astroquery.mocserver.MOCServerClass.html#astroquery.mocserver.MOCServerClass.find_datasets" title="astroquery.mocserver.MOCServerClass.find_datasets"><code class="xref py py-meth docutils literal notranslate"><span class="pre">find_datasets()</span></code></a> searches data-sets on the whole sky. If you want
to get the MOCs or meta-datas from some specific data-sets this is the method to use. The next example retrieves all the
<code class="docutils literal notranslate"><span class="pre">moc_access_url</span></code> of the Hubble surveys:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">MOCServer</span><span class="o">.</span><span class="n">find_datasets</span><span class="p">(</span><span class="n">meta_data</span><span class="o">=</span><span class="s2">&quot;ID=*HST*&quot;</span><span class="p">,</span>
<span class="gp">... </span>                  <span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ID&#39;</span><span class="p">,</span> <span class="s1">&#39;moc_access_url&#39;</span><span class="p">])</span>
<span class="go">&lt;Table masked=True length=42&gt;</span>
<span class="go">                   moc_access_url                             ID</span>
<span class="go">                       object                               str21</span>
<span class="go">--------------------------------------------------- ---------------------</span>
<span class="go">                                                 --           CDS/P/HST/B</span>
<span class="go">                                                 --          CDS/P/HST/CO</span>
<span class="go">     http://alasky.unistra.fr/GOODS/GOODSb/Moc.fits     CDS/P/HST/GOODS/b</span>
<span class="go">http://alasky.unistra.fr/GOODS/GOODS-color/Moc.fits CDS/P/HST/GOODS/color</span>
<span class="go">     http://alasky.unistra.fr/GOODS/GOODSi/Moc.fits     CDS/P/HST/GOODS/i</span>
<span class="go">     http://alasky.unistra.fr/GOODS/GOODSv/Moc.fits     CDS/P/HST/GOODS/v</span>
<span class="go">     http://alasky.unistra.fr/GOODS/GOODSz/Moc.fits     CDS/P/HST/GOODS/z</span>
<span class="go">                                                 --           CDS/P/HST/H</span>
<span class="go">                                                 --         CDS/P/HST/H2O</span>
<span class="go">                                                 --      CDS/P/HST/Halpha</span>
<span class="go">                                                 --       CDS/P/HST/Hbeta</span>
<span class="go">                                                 --           CDS/P/HST/I</span>
<span class="go">                                                 --           CDS/P/HST/J</span>
<span class="go">                                                 --         CDS/P/HST/NII</span>
<span class="go">                                                 --         CDS/P/HST/OII</span>
<span class="go">                                                 --        CDS/P/HST/OIII</span>
<span class="go">     http://alasky.u-strasbg.fr/PHAT/F110W/Moc.fits  CDS/P/HST/PHAT/F110W</span>
<span class="go">     http://alasky.u-strasbg.fr/PHAT/F160W/Moc.fits  CDS/P/HST/PHAT/F160W</span>
<span class="go">     http://alasky.u-strasbg.fr/PHAT/F275W/Moc.fits  CDS/P/HST/PHAT/F275W</span>
<span class="go">     http://alasky.u-strasbg.fr/PHAT/F336W/Moc.fits  CDS/P/HST/PHAT/F336W</span>
<span class="go">     http://alasky.u-strasbg.fr/PHAT/F475W/Moc.fits  CDS/P/HST/PHAT/F475W</span>
<span class="go">     http://alasky.u-strasbg.fr/PHAT/F814W/Moc.fits  CDS/P/HST/PHAT/F814W</span>
<span class="go">                                                 --      CDS/P/HST/Palpha</span>
<span class="go">                                                 --    CDS/P/HST/Palpha_c</span>
<span class="go">                                                 --           CDS/P/HST/R</span>
<span class="go">                                                 --       CDS/P/HST/SDSSg</span>
<span class="go">                                                 --       CDS/P/HST/SDSSr</span>
<span class="go">                                                 --       CDS/P/HST/SDSSz</span>
<span class="go">                                                 --        CDS/P/HST/SIII</span>
<span class="go">                                                 --           CDS/P/HST/U</span>
<span class="go">                                                 --          CDS/P/HST/UV</span>
<span class="go">                                                 --           CDS/P/HST/V</span>
<span class="go">                                                 --           CDS/P/HST/Y</span>
<span class="go">                                                 --       CDS/P/HST/other</span>
<span class="go">                                                 --      CDS/P/HST/wideUV</span>
<span class="go">                                                 --       CDS/P/HST/wideV</span>
<span class="go">                                                 --  ESAVO/P/HST/ACS-blue</span>
<span class="go">                                                 --       ESAVO/P/HST/FOC</span>
<span class="go">                                                 --    ESAVO/P/HST/NICMOS</span>
<span class="go">                                                 --      ESAVO/P/HST/WFC3</span>
<span class="go">                                                 --      ESAVO/P/HST/WFPC</span>
<span class="go">                                                 --     ESAVO/P/HST/WFPC2</span>
</pre></div>
</div>
</section>
<section id="misc">
<h3>Misc<a class="headerlink" href="#misc" title="Link to this heading">¶</a></h3>
<section id="limiting-the-number-of-returned-data-sets">
<h4>Limiting the number of returned data-sets<a class="headerlink" href="#limiting-the-number-of-returned-data-sets" title="Link to this heading">¶</a></h4>
<p>Another parameter called <code class="docutils literal notranslate"><span class="pre">max_rec</span></code> specifies an upper limit for the number of data-sets to be returned:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">MOCServer</span><span class="o">.</span><span class="n">query_region</span><span class="p">(</span><span class="n">region</span><span class="o">=</span><span class="n">cone</span><span class="p">,</span> <span class="n">max_rec</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">&lt;Table masked=True length=3&gt;</span>
<span class="go">publisher_id                 obs_description_url                                                     moc_access_url                                    ...    TIMESTAMP    obs_label moc_sky_fraction</span>
<span class="go">    str9                            str52                                                                str84                                         ...     float64        str8       float64</span>
<span class="go">------------ ---------------------------------------------------- ------------------------------------------------------------------------------------ ... --------------- --------- ----------------</span>
<span class="go">   ivo://CDS http://cdsarc.u-strasbg.fr/viz-bin/Cat?B%2Fassocdata http://alasky.unistra.fr/footprints/tables/vizier/B_assocdata_obscore/MOC?nside=2048 ... 1531742659000.0   obscore           0.0588</span>
<span class="go">   ivo://CDS        http://cdsarc.u-strasbg.fr/viz-bin/Cat?B%2Fcb       http://alasky.unistra.fr/footprints/tables/vizier/B_cb_lmxbdata/MOC?nside=2048 ... 1531742660000.0  lmxbdata        2.066e-06</span>
<span class="go">   ivo://CDS      http://cdsarc.u-strasbg.fr/viz-bin/Cat?B%2Fcfht         http://alasky.unistra.fr/footprints/tables/vizier/B_cfht_cfht/MOC?nside=2048 ... 1531742660000.0      cfht         0.002134</span>
</pre></div>
</div>
<p>This astropy table has only 3 rows although we know more data-sets match the query. It’s useful if you do not need
to retrieve all the data-sets matching a query but only a few. Again, the result will come faster from the MOCServer because
this operation is done at the server side.</p>
</section>
<section id="returning-a-moc-object-as-a-result">
<h4>Returning a <a class="reference external" href="https://cds-astro.github.io/mocpy/stubs/mocpy.MOC.html#mocpy.MOC" title="(in MOCPy v0.13.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MOC</span></code></a> object as a result<a class="headerlink" href="#returning-a-moc-object-as-a-result" title="Link to this heading">¶</a></h4>
<p>Some users might want the union of all the MOCs from the data-sets matching the query. You can get a <a class="reference external" href="https://cds-astro.github.io/mocpy/stubs/mocpy.MOC.html#mocpy.MOC" title="(in MOCPy v0.13.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mocpy.MOC</span></code></a> object
instead of an <a class="reference external" href="https://docs.astropy.org/en/latest/api/astropy.table.Table.html#astropy.table.Table" title="(in Astropy v6.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">astropy.table.Table</span></code></a> by setting the parameter <code class="docutils literal notranslate"><span class="pre">return_moc</span></code> to True. An additional parameter <code class="docutils literal notranslate"><span class="pre">max_norder</span></code>
allows the user to set the resolution/precision of the returned MOC that he wants.</p>
<p>As an example, we would like to obtain the union of the spatial coverage of all the Hubble surveys:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mocpy</span> <span class="kn">import</span> <span class="n">MOC</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># We want to retrieve all the HST surveys i.e. the HST surveys covering any region of the sky.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">allsky</span> <span class="o">=</span> <span class="n">CircleSkyRegion</span><span class="p">(</span><span class="n">coordinates</span><span class="o">.</span><span class="n">SkyCoord</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;deg&quot;</span><span class="p">),</span> <span class="n">coordinates</span><span class="o">.</span><span class="n">Angle</span><span class="p">(</span><span class="mi">180</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;deg&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">moc</span> <span class="o">=</span> <span class="n">MOCServer</span><span class="o">.</span><span class="n">query_region</span><span class="p">(</span><span class="n">region</span><span class="o">=</span><span class="n">allsky</span><span class="p">,</span>
<span class="gp">... </span><span class="c1"># We want a mocpy object instead of an astropy table</span>
<span class="gp">... </span>                       <span class="n">return_moc</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="c1"># The order of the MOC</span>
<span class="gp">... </span>                        <span class="n">max_norder</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
<span class="gp">... </span><span class="c1"># Expression on the ID meta-data</span>
<span class="gp">... </span>                       <span class="n">meta_data</span><span class="o">=</span><span class="s2">&quot;ID=*HST*&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">moc</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Union of the spatial coverage of all the Hubble surveys.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../_images/HST_union.png" src="../_images/HST_union.png" />
</section>
<section id="retrieve-the-moc-of-a-specific-data-set">
<h4>Retrieve the <a class="reference external" href="https://cds-astro.github.io/mocpy/stubs/mocpy.MOC.html#mocpy.MOC" title="(in MOCPy v0.13.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MOC</span></code></a> of a specific data-set<a class="headerlink" href="#retrieve-the-moc-of-a-specific-data-set" title="Link to this heading">¶</a></h4>
<p>Finally, if you want to retrieve the MOC of a specific data-set, please consider using the <a class="reference internal" href="../api/astroquery.mocserver.MOCServerClass.html#astroquery.mocserver.MOCServerClass.find_datasets" title="astroquery.mocserver.MOCServerClass.find_datasets"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_datasets</span></code></a>
method with the ID of the data-set you want to retrieve the MOC along with the <code class="docutils literal notranslate"><span class="pre">return_moc</span></code> parameter set to True.
The last example will show you how to get the MOC (i.e. a <a class="reference external" href="https://cds-astro.github.io/mocpy/stubs/mocpy.MOC.html#mocpy.MOC" title="(in MOCPy v0.13.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mocpy.MOC</span></code></a> object) of the <code class="docutils literal notranslate"><span class="pre">GALEXGR6/AIS/FUV</span></code> survey.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mocpy</span> <span class="kn">import</span> <span class="n">MOC</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">moc_galex</span><span class="o">=</span> <span class="n">MOCServer</span><span class="o">.</span><span class="n">find_datasets</span><span class="p">(</span><span class="n">meta_data</span><span class="o">=</span><span class="s2">&quot;ID=CDS/P/GALEXGR6/AIS/FUV&quot;</span><span class="p">,</span> <span class="n">return_moc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">moc_galex</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s2">&quot;MOC associated to CDS/P/GALEXGR6/AIS/FUV.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../_images/MOC_GALEXGR6_AIS_FUV.png" src="../_images/MOC_GALEXGR6_AIS_FUV.png" />
<p>The <code class="docutils literal notranslate"><span class="pre">mocserver</span></code> package can therefore be used in complementarity with <a class="reference external" href="https://github.com/cds-astro/mocpy">mocpy</a>. We can now retrieve <a class="reference external" href="https://cds-astro.github.io/mocpy/stubs/mocpy.MOC.html#mocpy.MOC" title="(in MOCPy v0.13.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mocpy.MOC</span></code></a> objects
coming from the MOCServer and manipulate them in a python session with <a class="reference external" href="https://github.com/cds-astro/mocpy">mocpy</a>.</p>
</section>
</section>
</section>
<section id="reference-api">
<h2>Reference/API<a class="headerlink" href="#reference-api" title="Link to this heading">¶</a></h2>
<section id="module-astroquery.mocserver">
<span id="astroquery-mocserver-package"></span><h3>astroquery.mocserver Package<a class="headerlink" href="#module-astroquery.mocserver" title="Link to this heading">¶</a></h3>
<section id="cds-mocserver-query-tool">
<h4>CDS MOCServer Query Tool<a class="headerlink" href="#cds-mocserver-query-tool" title="Link to this heading">¶</a></h4>
<dl class="field-list simple">
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd"><p>Matthieu Baumann (<a class="reference external" href="mailto:matthieu&#46;baumann&#37;&#52;&#48;astro&#46;unistra&#46;fr">matthieu<span>&#46;</span>baumann<span>&#64;</span>astro<span>&#46;</span>unistra<span>&#46;</span>fr</a>)</p>
</dd>
</dl>
<p>This package is for querying the CDS MOC service, primarily hosted at:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://alasky.unistra.fr/MocServer/query">http://alasky.unistra.fr/MocServer/query</a></p></li>
<li><p><a class="reference external" href="http://alaskybis.unistra.fr/MocServer/query">http://alaskybis.unistra.fr/MocServer/query</a> (mirror)</p></li>
</ul>
<p>Note: If the access to MOCs with the MOCServer tool was helpful for your research,
the following acknowledgment would be appreciated:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">This</span> <span class="n">research</span> <span class="n">has</span> <span class="n">made</span> <span class="n">use</span> <span class="n">of</span> <span class="n">the</span> <span class="n">MOCServer</span><span class="p">,</span> <span class="n">a</span> <span class="n">tool</span> <span class="n">developed</span> <span class="n">at</span> <span class="n">CDS</span><span class="p">,</span> <span class="n">Strasbourg</span><span class="p">,</span> <span class="n">France</span> <span class="n">aiming</span> <span class="n">at</span> <span class="n">retrieving</span>
<span class="n">MOCs</span><span class="o">/</span><span class="n">meta</span><span class="o">-</span><span class="n">data</span> <span class="kn">from</span> <span class="nn">known</span> <span class="n">data</span><span class="o">-</span><span class="n">sets</span><span class="o">.</span> <span class="n">MOC</span> <span class="ow">is</span> <span class="n">an</span> <span class="n">IVOA</span> <span class="n">standard</span> <span class="n">described</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">following</span> <span class="n">paper</span> <span class="p">:</span>
<span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">ivoa</span><span class="o">.</span><span class="n">net</span><span class="o">/</span><span class="n">documents</span><span class="o">/</span><span class="n">MOC</span><span class="o">/</span><span class="mi">20140602</span><span class="o">/</span><span class="n">REC</span><span class="o">-</span><span class="n">MOC</span><span class="o">-</span><span class="mf">1.0</span><span class="o">-</span><span class="mf">20140602.</span><span class="n">pdf</span>
</pre></div>
</div>
</section>
<section id="classes">
<h4>Classes<a class="headerlink" href="#classes" title="Link to this heading">¶</a></h4>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="../api/astroquery.mocserver.Conf.html#astroquery.mocserver.Conf" title="astroquery.mocserver.Conf"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Conf</span></code></a>()</p></td>
<td><p>Configuration parameters for <code class="docutils literal notranslate"><span class="pre">astroquery.template_module</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../api/astroquery.mocserver.MOCServerClass.html#astroquery.mocserver.MOCServerClass" title="astroquery.mocserver.MOCServerClass"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MOCServerClass</span></code></a>()</p></td>
<td><p>Query the <a class="reference external" href="http://alasky.unistra.fr/MocServer/query">CDS MOCServer</a></p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">CDS MOC Service (<code class="xref py py-obj docutils literal notranslate"><span class="pre">astroquery.mocserver</span></code>)</a><ul>
<li><a class="reference internal" href="#getting-started">Getting started</a><ul>
<li><a class="reference internal" href="#requirements">Requirements</a></li>
</ul>
</li>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#performing-a-cds-moc-query-on-a-cone-region">Performing a CDS MOC query on a cone region</a></li>
<li><a class="reference internal" href="#retrieve-only-a-subset-of-meta-datas">Retrieve only a subset of meta-datas</a></li>
<li><a class="reference internal" href="#retrieving-data-sets-based-on-their-meta-data-values">Retrieving data-sets based on their meta-data values</a></li>
<li><a class="reference internal" href="#misc">Misc</a><ul>
<li><a class="reference internal" href="#limiting-the-number-of-returned-data-sets">Limiting the number of returned data-sets</a></li>
<li><a class="reference internal" href="#returning-a-moc-object-as-a-result">Returning a <code class="xref py py-obj docutils literal notranslate"><span class="pre">MOC</span></code> object as a result</a></li>
<li><a class="reference internal" href="#retrieve-the-moc-of-a-specific-data-set">Retrieve the <code class="xref py py-obj docutils literal notranslate"><span class="pre">MOC</span></code> of a specific data-set</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#reference-api">Reference/API</a><ul>
<li><a class="reference internal" href="#module-astroquery.mocserver">astroquery.mocserver Package</a><ul>
<li><a class="reference internal" href="#cds-mocserver-query-tool">CDS MOCServer Query Tool</a></li>
<li><a class="reference internal" href="#classes">Classes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="../_sources/mocserver/mocserver.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2023, The Astroquery Developers.<br/>
    Created using <a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> 7.2.6. &nbsp;
    Last built 11 Dec 2023. <br/>
  </p>
</footer>
  </body>
</html>